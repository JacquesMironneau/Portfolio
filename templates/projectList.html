{% extends "base.html" %}
{% block title %} Project list {% endblock %}

{% block content %}
<div class="content">
    <h1>My projects</h1>
    <div class="projectList">
    {% if projectList %}
    {% for project in projectList %}
        <a class="projectTitle" href="{{ url_for('project', id=project.id)}}">{{ project.project_name }}</a>
        <br/>
    {% endfor %}
    {% endif %}

    </div>

    <div class="desc">

    </div>

</div>
<script>

    let desc = []
    let files = []
    let names = []
    let short_desc = ""
    let attached_files = ""
    let project_name = ""
    let project_files = []
    let cur_file = ""
    {% for project in projectList %}

        short_desc = '{{ project.short_desc}}'

        project_files = []
        {% for file in project.attached_files %}
            cur_file = '{{ file.file_url}}'
            console.log(cur_file)
            project_files.push(cur_file)
        {% endfor %}

        project_name = '{{ project.project_name }}'
        desc.push(short_desc)
        files.push(project_files)
        names.push(project_name)
    {% endfor %}


    console.log(desc)
    console.log(names)
    console.log(files)

    let currentProject = ""

    const hover = (event) => {

        const parent = document.querySelector('.desc')

        let index = event.target.pathname.slice(-1)
        let int_index = Number(index)
        int_index--
        if (currentProject === "")
        {
            
        }
        else
        {
            
        }

        let node = document.createElement("p")
        let text = document.createTextNode(desc[int_index])
        node.appendChild(text)
        parent.appendChild(node)
    

        // parent.appendChild(child)
    }

    document.querySelectorAll('.projectTitle').forEach(item => {
        item.addEventListener('mouseover', hover)
    })

</script>

{% endblock %}